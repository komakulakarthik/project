<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Dashboard - Hospital Management System</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        function showSection(sectionId) {
            const sections = document.getElementsByClassName('section-content');
            for (let i = 0; i < sections.length; i++) {
                sections[i].style.display = 'none';
            }
            document.getElementById(sectionId).style.display = 'block';
            
            const tabs = document.getElementsByClassName('tab-button');
            for (let i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove('active');
            }
            document.getElementById(sectionId + '-tab').classList.add('active');
        }

        window.onload = function() {
            showSection('personal-info'); 
        }
        // Function to load upcoming appointments from localStorage
        function loadUpcomingAppointments() {
            const appointments = JSON.parse(localStorage.getItem('appointments')) || [];
            const upcomingAppointmentsList = document.getElementById('upcoming-appointments-list');

            if (appointments.length === 0) {
                upcomingAppointmentsList.innerHTML = '<li>No upcoming appointments.</li>';
                return;
            }

            // Clear the list before adding new items
            upcomingAppointmentsList.innerHTML = '';

            // Loop through each appointment and display it
            appointments.forEach((appointment) => {
                const appointmentItem = document.createElement('li');
                appointmentItem.innerHTML = `
                    <strong>${appointment.doctor}</strong> - ${appointment.date} - ${appointment.time}
                `;
                upcomingAppointmentsList.appendChild(appointmentItem);
            });
        }

        // Load appointments when the page loads
        window.onload = loadUpcomingAppointments;
    </script>
</head>
<body>
    <header>
        <div class="container">
            <h1>Hospital Management System</h1>
            <nav>
                <ul>
                    <li><a href="patient-dashboard.html">Dashboard</a></li>
                    <li><a href="profile.html">Profile</a></li>
                    <li><a href="appointments.html">Appointments</a></li>
                    <li><a href="index.html">Logout</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="dashboard-container">
        <!-- Left Navigation Menu -->
        <div class="nav-menu">
            <button id="personal-info-tab" class="tab-button active" onclick="showSection('personal-info')">Personal Information</button>
            <button id="upcoming-appointments-tab" class="tab-button" onclick="showSection('upcoming-appointments')">Upcoming Appointments</button>
            <button id="medical-history-tab" class="tab-button" onclick="showSection('medical-history')">Medical History</button>
            <button id="prescriptions-tab" class="tab-button" onclick="showSection('prescriptions')">Current Prescriptions</button>
            <button id="notifications-tab" class="tab-button" onclick="showSection('notifications')">Notifications</button>
        </div>

        <!-- Right Content Display -->
        <div class="content-area">
            <!-- Personal Information -->
            <div id="personal-info" class="section-content">
                <h3>Personal Information</h3>
                <ul>
                    <li><strong>Name:</strong> John Doe</li>
                    <li><strong>Email:</strong> johndoe@example.com</li>
                    <li><strong>Phone:</strong> +1 (555) 123-4567</li>
                    <li><strong>Age:</strong> 45</li>
                    <li><strong>Gender:</strong> Male</li>
                    <li><strong>Address:</strong> 123 Main St, Springfield, IL, USA</li>
                </ul>
            </div>

            <!-- Upcoming Appointments -->
            <div id="upcoming-appointments" class="section-content" style="display: none;">
                <h3>Upcoming Appointments</h3>
                <ul>
                    <li><strong>Dr. John Doe - Cardiologist</strong> - Oct 25, 2024 - 10:00 AM</li>
                    <li><strong>Dr. Sarah Lee - Dermatologist</strong> - Nov 1, 2024 - 2:30 PM</li>
                    <li><strong>Dr. Alice Wong - General Practitioner</strong> - Nov 10, 2024 - 9:00 AM</li>
                </ul>
                
                <!-- New Button to Manage Appointments -->
                <a href="appointments.html" class="cta-btn">Manage Appointments</a>
            </div>

            <!-- Medical History -->
            <div id="medical-history" class="section-content" style="display: none;">
                <h3>Medical History</h3>
                <ul>
                    <li><strong>High Blood Pressure</strong> - Managed with medication</li>
                    <li><strong>Seasonal Allergies</strong> - Mild</li>
                    <li><strong>Fractured Ankle</strong> - Healed</li>
                </ul>
                <a href="#" class="cta-btn">View Full History</a>
            </div>

            <!-- Prescriptions -->
            <div id="prescriptions" class="section-content" style="display: none;">
                <h3>Current Prescriptions</h3>
                <ul>
                    <li><strong>Lisinopril</strong> - 10mg once daily</li>
                    <li><strong>Amoxicillin</strong> - 500mg twice daily</li>
                    <li><strong>Ibuprofen</strong> - 200mg as needed</li>
                </ul>
                <a href="#" class="cta-btn">View All Prescriptions</a>
            </div>

            <!-- Notifications -->
            <div id="notifications" class="section-content" style="display: none;">
                <h3>Notifications</h3>
                <ul>
                    <li><strong>Lab Results</strong> for Blood Test - Available</li>
                    <li><strong>Annual Physical</strong> - Due in November</li>
                </ul>
                <a href="#" class="cta-btn">View All Notifications</a>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 Hospital Management System. All rights reserved.</p>
    </footer>
</body>
</html>
