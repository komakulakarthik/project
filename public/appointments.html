<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appointments - Hospital Management System</title>
    <link rel="stylesheet" href="/css/styles.css">
    <script>
        // Function to save new appointments to localStorage
        function saveAppointment(event) {
            event.preventDefault(); // Prevent form submission

            // Get form data
            const patientName = document.getElementById('patient-name').value;
            const doctor = document.getElementById('doctor').value;
            const appointmentDate = document.getElementById('appointment-date').value;
            const appointmentTime = document.getElementById('appointment-time').value;

            // Create an appointment object
            const newAppointment = {
                patientName: patientName,
                doctor: doctor,
                date: appointmentDate,
                time: appointmentTime
            };

            // Get existing appointments from localStorage or initialize an empty array
            const existingAppointments = JSON.parse(localStorage.getItem('appointments')) || [];

            // Add the new appointment to the array
            existingAppointments.push(newAppointment);

            // Save the updated array back to localStorage
            localStorage.setItem('appointments', JSON.stringify(existingAppointments));

            // Notify user
            alert('Appointment booked successfully!');

            // Optionally, reset the form
            document.getElementById('appointment-form').reset();
        }
    </script>
</head>
<body>
    <header>
        <div class="container">
            <h1>Hospital Management System</h1>
            <nav>
                <ul>
                    <li><a href="/public/patient-dashboard.html">Dashboard</a></li>
                    <li><a href="/public/profile.html">Profile</a></li>
                    <li><a href="/public/appointments.html">Appointments</a></li>
                    <li><a href="/public/login.html">Logout</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="appointment-container">
        <div class="sidebar">
            <h2>Appointments Menu</h2>
            <ul>
                <li><a href="#create-new-appointment">Create New Appointment</a></li>
                <li><a href="#view-calendar">View Calendar</a></li>
                <li><a href="#manage-appointments">Manage Appointments</a></li>
            </ul>
        </div>

        <div class="appointment-content">
            <!-- Create New Appointment Section -->
            <section id="create-new-appointment">
                <h3>Create New Appointment</h3>
                <form id="appointment-form" onsubmit="saveAppointment(event)">
                    <label for="patient-name">Patient Name:</label>
                    <input type="text" id="patient-name" name="patient-name" required>

                    <label for="doctor">Select Doctor:</label>
                    <select id="doctor" name="doctor" required>
                        <option value="Dr. John Doe - Cardiologist">Dr. John Doe - Cardiologist</option>
                        <option value="Dr. Sarah Lee - Dermatologist">Dr. Sarah Lee - Dermatologist</option>
                        <option value="Dr. Alice Wong - General Practitioner">Dr. Alice Wong - General Practitioner</option>
                    </select>

                    <label for="appointment-date">Appointment Date:</label>
                    <input type="date" id="appointment-date" name="appointment-date" required>

                    <label for="appointment-time">Appointment Time:</label>
                    <input type="time" id="appointment-time" name="appointment-time" required>

                    <button type="submit" class="cta-btn">Book Appointment</button>
                </form>
            </section>

            <!-- Calendar View Section -->
            <section id="view-calendar">
                <h3>View Calendar</h3>
                <div class="calendar-placeholder">
                    <p>[Calendar of Appointments will appear here]</p>
                </div>
            </section>

            <!-- Manage Appointments Section -->
            <section id="manage-appointments">
                <h3>Manage Your Appointments</h3>
                <!-- Placeholder for managing appointments -->
                <ul class="appointments-list">
                    <li>No appointments to manage yet.</li>
                </ul>
            </section>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 Hospital Management System. All rights reserved.</p>
    </footer>
</body>
</html>
